import{V as c,n as u,E as m,W as g,U as t}from"./BxhkHZUn.js";const y=c(async(f,v)=>{var o,n;let a,i;{const{user:e,isReady:s,initUser:d}=u(),{error:r}=m();if(console.log("Admin middleware: Checking access...",{isReady:s.value,hasUser:!!e.value,userType:(o=e.value)==null?void 0:o.account_type}),s.value||(d(),[a,i]=g(()=>new Promise(l=>setTimeout(l,300))),await a,i()),console.log("Admin middleware: After init check...",{isReady:s.value,hasUser:!!e.value,userType:(n=e.value)==null?void 0:n.account_type}),!e.value)return console.log("Admin middleware: No user found, redirecting to login"),r("Please login first to access admin dashboard"),t("/?modal=login");if(e.value.account_type!=="admin")return console.log("Admin middleware: User is not admin, redirecting to home"),r("Access denied. Admin privileges required."),t("/home");console.log("Admin middleware: Access granted for admin user")}});export{y as default};
