import{r,c as d,a as s,s as v,t as u,M as _,A as b,C as y,d as c,b as k,w,e as h,o as m}from"./BxhkHZUn.js";const x={class:"forgot-password-page"},S={class:"form-container"},L={key:0,class:"error-message"},M={key:1,class:"success-message"},N={class:"form-group"},V=["disabled"],A={class:"back-link"},B={key:0,class:"reset-link-demo"},E=["href"],D={__name:"forgot-password",setup(U){const l=r(""),t=r(""),n=r(""),i=r(!1),a=r(""),p=async()=>{try{t.value="",n.value="",a.value="",i.value=!0;const o=await $fetch("/api/forgot-password",{method:"POST",body:{email:l.value}});o.success?(n.value=o.message,l.value="",o.resetUrl&&(a.value=o.resetUrl)):t.value=o.message||"An error occurred"}catch(o){console.error("Forgot password error:",o),t.value="An error occurred. Please try again."}finally{i.value=!1}};return(o,e)=>{const f=h;return m(),d("div",x,[e[6]||(e[6]=s("h1",null,"Forgot Password",-1)),e[7]||(e[7]=s("p",{class:"subtitle"},"Enter your email address below to receive a password reset link.",-1)),s("div",S,[t.value?(m(),d("div",L,u(t.value),1)):v("",!0),n.value?(m(),d("div",M,u(n.value),1)):v("",!0),s("form",{onSubmit:_(p,["prevent"])},[s("div",N,[e[1]||(e[1]=s("label",{for:"email"},"Email Address",-1)),b(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=g=>l.value=g),placeholder:"Enter your email address",required:""},null,512),[[y,l.value]])]),s("button",{type:"submit",class:"submit-button",disabled:i.value},u(i.value?"Sending...":"Send Reset Link"),9,V)],32),s("div",A,[e[3]||(e[3]=c(" Remember your password? ")),k(f,{to:"/login"},{default:w(()=>e[2]||(e[2]=[c("Back to Login")])),_:1,__:[2]})])]),a.value?(m(),d("div",B,[e[4]||(e[4]=s("h3",null,"Demo Only - Reset Link:",-1)),e[5]||(e[5]=s("p",null,"In production, this would be sent via email.",-1)),s("a",{href:a.value,target:"_blank"},u(a.value),9,E)])):v("",!0)])}}};export{D as default};
